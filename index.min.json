{
  "openapi": "3.1.0",
  "info": {
    "title": "La Colectiva",
    "version": "1.0.0-oas3.1",
    "contact": {
      "name": "Máximo Canedo",
      "url": "http://maximocanedo.com.ar/",
      "email": "maximotomascanedo@gmail.com"
    },
    "description": "Realizar consultas y administrar horarios, y registros de La Colectiva."
  },
  "servers": [
    {
      "url": "https://colectiva.com.ar:5050",
      "description": "Servidor en línea de La Colectiva."
    },
    {
      "url": "http://localhost",
      "description": "Servidor local para pruebas."
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "OID": {
        "type": "string"
      },
      "Version": {
        "type": "integer"
      },
      "User_Username": {
        "type": "string"
      },
      "User_Name": {
        "type": "string"
      },
      "User_Bio": {
        "type": "string"
      },
      "User_Email": {
        "type": "string"
      },
      "User_Birth": {
        "type": "date"
      },
      "User_Password": {
        "type": "string"
      },
      "User_Role": {
        "type": "integer"
      },
      "Availability": {
        "type": "object",
        "properties": {
          "_id": {
            "$ref": "#/components/schemas/OID"
          },
          "path": {
            "type": "object",
            "properties": {
              "_id": {
                "$ref": "#/components/schemas/OID"
              },
              "title": {
                "type": "string",
                "maxLength": 48,
                "minLength": 3,
                "description": "Título del recorrido"
              }
            }
          },
          "condition": {
            "type": "string"
          },
          "available": {
            "type": "boolean"
          },
          "user": {
            "type": "object",
            "properties": {
              "_id": {
                "$ref": "#/components/schemas/OID"
              },
              "name": {
                "$ref": "#/components/schemas/User_Name"
              }
            }
          },
          "uploadDate": {
            "type": "string",
            "format": "date-time",
            "description": "Fecha de carga del recorrido"
          },
          "active": {
            "type": "boolean",
            "description": "Estado activo/desactivo del recorrido"
          },
          "__v": {
            "type": "number"
          }
        }
      },
      "Availability_Post": {
        "type": "object",
        "properties": {
          "path": {
            "$ref": "#/components/schemas/OID"
          },
          "condition": {
            "type": "string"
          },
          "available": {
            "type": "boolean"
          }
        }
      },
      "allOf": [
        { "$ref": "./api/schemas/availabilities.json" },
        { "$ref": "./api/schemas/boats.json" },
        { "$ref": "./api/schemas/comments.json" },
        { "$ref": "./api/schemas/docks.json" },
        { "$ref": "./api/schemas/enterprises.json" },
        { "$ref": "./api/schemas/paths.json" },
        { "$ref": "./api/schemas/pictures.json" },
        { "$ref": "./api/schemas/regions.json" },
        { "$ref": "./api/schemas/schedules.json" },
        { "$ref": "./api/schemas/schemas.json" },
        { "$ref": "./api/schemas/users.json" },
        { "$ref": "./api/schemas/vote.json" }
      ]
    }
  },
  "paths": {
    "allOf": [
      { "$ref": "./api/paths/availabilities.json" },
      { "$ref": "./api/paths/boats.json" },
      { "$ref": "./api/paths/comments.json" },
      { "$ref": "./api/paths/docks.json" },
      { "$ref": "./api/paths/enterprises.json" },
      { "$ref": "./api/paths/paths.json" },
      { "$ref": "./api/paths/pictures.json" },
      { "$ref": "./api/paths/regions.json" },
      { "$ref": "./api/paths/schedules.json" },
      { "$ref": "./api/paths/users.json" }
    ]
  }
}
