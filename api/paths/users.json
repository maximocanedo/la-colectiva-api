{
	"definitions": {
		"/auth": {
			"post": {
				"description": "Iniciar sesión",
				"operationId": "login",
				"requestBody": {
					"description": "Credenciales del usuario.",
					"content": {
						"application/json": {
							"schema": {
								"$ref": "./../schemas/schemas.json#/definitions/AuthReq"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Inicio de sesión exitoso.",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"token": {
											"schema": {
												"type": "string"
											}
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "Credenciales inválidas.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error interno. ",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			}
		},
		"/users": {
			"post": {
				"operationId": "signUp",
				"description": "Crear una cuenta de usuario.",
				"requestBody": {
					"description": "Información de la nueva cuenta.",
					"content": {
						"application/json": {
							"schema": {
								"$ref": "./../schemas/schemas.json#/definitions/UserSignUp"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Usuario registrado correctamente."
					},
					"409": {
						"description": "El nombre de usuario y/o correo no están disponibles."
					},
					"500": {
						"description": "Ocurrió un error al intentar crear el usuario."
					}
				}
			}
		},
		"/users/{username}": {
			"get": {
				"operationId": "getUser",
				"description": "Obtener información sobre un usuario específico.",
				"parameters": [
					{
						"name": "username",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Usuario encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/User"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error interno. ",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			},
			"head": {
				"operationId": "userExists",
				"description": "Saber si un usuario existe.",
				"parameters": [
					{
						"name": "username",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Usuario encontrado."
					},
					"404": {
						"description": "Usuario no encontrado."
					},
					"500": {
						"description": "Error interno. "
					}
				}
			},
			"put": {
				"operationId": "editUser",
				"description": "Editar información de un usuario específico.",
				"parameters": [
					{
						"name": "username",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				],
				"security": [
					{
						"bearerAuth": []
					}
				],
				"requestBody": {
					"description": "Datos nuevos.",
					"content": {
						"application/json": {
							"schema": {
								"$ref": "./../schemas/schemas.json#/definitions/UserEdit"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Los datos fueron actualizados correctamente."
					},
					"400": {
						"description": "Se requiere al menos un campo para editar.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"403": {
						"description": "No dispone de los permisos suficientes para realizar esta acción.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error al intentar editar los datos del usuario.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			},
			"delete": {
				"operationId": "deleteUser",
				"description": "Deshabilitar usuario específico.",
				"parameters": [
					{
						"name": "username",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				],
				"security": [
					{
						"bearerAuth": []
					}
				],
				"responses": {
					"200": {
						"description": "Usuario dado de baja exitosamente."
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"403": {
						"description": "No dispone de los permisos suficientes para realizar esta acción.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error al intentar deshabilitar el usuario.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			},
			"patch": {
				"operationId": "updatePasswordOrRole",
				"description": "Cambiar contraseña o rol de un usuario específico.",
				"parameters": [
					{
						"name": "username",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				],
				"security": [
					{
						"bearerAuth": []
					}
				],
				"requestBody": {
					"description": "Contraseña o rol que se desea cambiar al usuario.",
					"content": {
						"application/json": {
							"schema": {
								"$ref": "./../schemas/schemas.json#/definitions/UserUpdatePassOrRole"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Se cambió exitosamente el rol o la contraseña del usuario."
					},
					"400": {
						"description": "Se requiere al menos un campo para actualizar.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"403": {
						"description": "No dispone de los permisos suficientes para realizar esta acción.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error al intentar cambiar la clave o el rol del usuario.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			}
		},
		"/users/me": {
			"get": {
				"operationId": "myAccount",
				"description": "Información sobre el perfil actual.",
				"responses": {
					"200": {
						"description": "Usuario encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/User"
								}
							}
						}
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error interno. ",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			},
			"put": {
				"operationId": "editMyAccount",
				"description": "Editar información de mi cuenta.",
				"security": [
					{
						"bearerAuth": []
					}
				],
				"requestBody": {
					"description": "Datos nuevos.",
					"content": {
						"application/json": {
							"schema": {
								"$ref": "./../schemas/schemas.json#/definitions/UserEdit"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Los datos fueron actualizados correctamente."
					},
					"400": {
						"description": "Se requiere al menos un campo para editar.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error al intentar editar los datos del usuario.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			},
			"delete": {
				"operationId": "disableMyAccount",
				"description": "Deshabilitar mi cuenta.",
				"security": [
					{
						"bearerAuth": []
					}
				],
				"responses": {
					"200": {
						"description": "Usuario dado de baja exitosamente."
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error al intentar deshabilitar el usuario.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			},
			"patch": {
				"operationId": "updateMyPassword",
				"description": "Cambiar mi contraseña.",
				"security": [
					{
						"bearerAuth": []
					}
				],
				"requestBody": {
					"description": "Contraseña que se desea cambiar.",
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"required": ["password"],
								"properties": {
									"password": {
										"schema": {
											"$ref": "./../schemas/users.json#/definitions/User_Password"
										}
									}
								}
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Se cambió exitosamente el rol o la contraseña del usuario."
					},
					"400": {
						"description": "Se requiere al menos un campo para actualizar.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error al intentar cambiar la clave o el rol del usuario.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			}
		},
		"/users/me/mail": {
			"post": {
				"operationId": "RequestVerification",
				"description": "Pedir un código de verificación para validar correo electrónico.",
				"security": [
					{
						"bearerAuth": []
					}
				],
				"requestBody": {
					"description": "Nuevo correo electrónico.",
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"mail": {
										"schema": {
											"$ref": "./../schemas/users.json#/definitions/User_Email"
										}
									}
								}
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Correo electrónico enviado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/MailVerificationResponse"
								}
							}
						}
					},
					"401": {
						"description": "No inició sesión.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error interno.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			}
		},
		"/users/{username}/recover": {
			"post": {
				"operationId": "recover",
				"parameters": [
					{
						"name": "username",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				],
				"description": "Enviar un código de recuperación al correo electrónico para cambiar la contraseña.",
				"responses": {
					"200": {
						"description": "Código enviado exitosamente.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/MailVerificationResponse"
								}
							}
						}
					},
					"404": {
						"description": "Usuario no encontrado.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/MailVerificationResponse"
								}
							}
						}
					},
					"500": {
						"description": "Error interno.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/MailVerificationResponse"
								}
							}
						}
					}
				}
			}
		},
		"/users/validate/{validationId}": {
			"post": {
				"operationId": "ValidateMyAccount",
				"parameters": [
					{
						"name": "validationId",
						"in": "path",
						"required": true,
						"schema": {
							"$ref": "./../schemas/users.json#/definitions/OID"
						}
					}
				],
				"description": "Validar código recibido por correo.",
				"requestBody": {
					"description": "Código enviado por correo, y, si se está intentando recuperar la cuenta, también la nueva contraseña.",
					"content": {
						"application/json": {
							"schema": {
								"code": {
									"schema": {
										"type": "integer"
									}
								},
								"password": {
									"schema": {
										"$ref": "./../schemas/users.json#/definitions/User_Password"
									}
								}
							}
						}
					}
				},
				"responses": {
					"204": {
						"description": "Código válido. Cuenta verificada."
					},
					"400": {
						"description": "Falta un campo requerido.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"401": {
						"description": "El código no es el enviado por correo."
					},
					"404": {
						"description": "El registro de validación no existe.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					},
					"500": {
						"description": "Error interno.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "./../schemas/schemas.json#/definitions/GeneralError"
								}
							}
						}
					}
				}
			}
		}
	}

}